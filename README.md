# maple-anime

这是每个人理想的动漫网站

# 目录

- [版本](#版本)
- [前端](#前端)
- [后端](#后端)
- [项目进度追踪](#项目进度追踪)
  - [后端核心功能](#后端核心功能)
  - [JSON数据库设计](#JSON数据库设计)
  - [前端用户界面](#前端用户界面)
  - [管理端界面](#管理端界面)
  - [API设计](#API设计)
  - [安全与性能](#安全与性能)
  - [界面组件库](#界面组件库)
- [感谢](#感谢)

# 版本

- Node.js v22.7.0
- React v19.0.0
- Python v3.11.0

> 理论上向上兼容

# 前端

```bash
npm install
npm run dev
```

# 后端

```bash
cd backend
pip install -r requirements.txt
python main.py
```

# 项目进度追踪

## 后端核心功能
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ✅ | AnimeGarden API集成测试 |  已验证 |
| ✅ | PikPak API集成测试 |  已验证 |
| ❌ | 数据库设计和建表 |  动漫表、集数表、管理员表 |
| ✅ | 动漫搜索API开发 |  基于AnimeGarden |
| ❌ | 集数获取和处理逻辑 |  去重、筛选内嵌字幕 |
| ✅ | 批量下载到PikPak功能 |  支持整部动漫下载 |
| ⬜ | 播放链接获取API |  从PikPak获取流媒体链接 |
| ✅ | 动漫信息爬取 |  封面、简介、评分等 |
| ❌ | 文件状态同步机制 |  PikPak下载状态监控 |

## JSON数据库设计
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ✅ | 选择JSON数据库方案 |  MongoDB/LowDB/JSON文件 |
| ✅ | 动漫数据结构设计 |  基础信息、状态(连载中/已完结) |
| ⬜ | 集数数据结构设计 |  集数、PikPak文件ID、播放链接 |
| ❌ | 管理员配置 |  简单密码认证 |
| ✅ | 数据操作封装 |  增删改查操作封装 |

## 前端用户界面
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ⬜ | 首页布局设计 |  最新动漫、热门推荐 |
| ⬜ | 动漫卡片组件 |  封面、标题、状态展示 |
| ⬜ | 动漫详情页 |  简介、集数列表、播放入口 |
| ⬜ | 视频播放器组件 |  支持多种视频格式 |
| ⬜ | 周期表界面 |  按星期分组显示连载动漫 |
| ⬜ | 搜索功能 |  实时搜索、结果展示 |
| ⬜ | 响应式设计优化 |  移动端适配 |

## 管理端界面
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ✅ | 简单密码登录 |  单一密码认证进入管理端 |
| ✅ | 动漫搜索添加组件 |  搜索AnimeGarden并添加 |
| ✅ | 动漫信息编辑 |  标题、简介、封面、状态 |
| 🟡 | 集数管理组件 |  集数列表、链接维护 |
| ❌ | 批量下载管理 |  下载进度、状态监控 |
| ⬜ | 连载动漫更新功能 |  检测新集数并下载 |
| ✅ | 动漫状态管理 |  连载中/已完结 |
| ✅ | 管理端搜索功能 |  已添加动漫的搜索 |
| ⬜ | 数据导入导出 |  备份恢复功能 |
| 🟡 | pikpak配置 |  新增 token 减少登录次数 |

## API设计
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ✅ | RESTful API设计文档 |  完整的API规范 |
| ⬜ | 用户端API |  动漫列表、详情、播放链接 |
| 🟡 | 管理端API |  增删改查、下载管理 |
| ✅ | 搜索API |  支持模糊搜索、分页 |
| ❌ | 文件上传API |  封面图片上传 |
| ❌ | API文档生成 |  Swagger/OpenAPI |

## 安全与性能
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ✅ | 管理端访问控制 |  简单密码验证 |
| ✅ | 静态资源处理 |  图片、视频资源管理 |
| ✅ | 日志记录系统 |  操作日志、错误日志 |
| 🟡 | 管理端API |  优化 api 调用，减少请求次数 |

## 界面组件库
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| 🟡 | 动漫卡片组件 |  封面、标题、状态 |
| ⬜ | 集数选择组件 |  集数列表、播放按钮 |
| ✅ | 搜索输入组件 |  实时搜索提示 |
| ⬜ | 播放器组件 |  视频播放、控制条 |
| ✅ | 加载状态组件 |  各种加载动画 |
| ✅ | 错误提示组件 |  友好的错误显示 |

## 扩展与升级
| 状态 | 任务 |  备注 |
|:---:|---|:---:|---|
| ⬜ | 管理端访问控制 |  人脸识别验证 |

# 感谢

- 感谢[AnimeGarden](https://github.com/yjl9903/AnimeGarden)提供的API
- 感谢[PikPak](https://github.com/Quan666/PikPakAPI)提供的API
- 感谢[Bangumi](https://github.com/bangumi/api)提供的API
- 感谢[Bangumi番组计划](https://github.com/bangumi/server)提供的动漫数据